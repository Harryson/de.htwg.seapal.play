@import de.htwg.seapal.web.controllers.secure.IAccountController.AUTHN_COOKIE_KEY

@import de.htwg.seapal.web.controllers.helpers.Menus


@display(menuItem: models.MenuItem) = {
	<li class="@if(menuItem.sameURI(request.uri)){active}"><a href="@menuItem.uri">@menuItem.name</a></li>
}

<div class="navbar-fixed-top">
	<div class="navbar">
		<div class="navbar-inner">
			<div class="container">
				<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</a>
				<a class="brand" href="/">SEAPAL</a>
				<div class="nav-collapse collapse">
					<ul class="nav">
					@****** if you get "null" here, your controller/method miss @With(Menus.class) annotation *****@
					@for(menuItem <- Menus.mainNavigation()) {
				    	@display(menuItem)
				    }
                    @if(session.contains(de.htwg.seapal.web.controllers.secure.IAccountController.AUTHN_COOKIE_KEY)) {
                        <li class>
                            <a href="@de.htwg.seapal.web.controllers.routes.AccountAPI.logout()">Logout</a>
                        </li>
                    } else {
                    <li class>
                        <a href="@de.htwg.seapal.web.controllers.routes.AccountAPI.login()">Login</a>
                    </li>
                    }
                    @if(flash.contains("success")) {
                            <p class="success">@flash.get("success")</p>
                    }
					</ul>
					<ul class="nav pull-right">
					  <li class="dropdown">
					    <a class="dropdown-toggle"
					       data-toggle="dropdown"
					       href="#">
					        <strong>Seapal Web App</strong>
					        <b class="caret"></b>
					      </a>
					    <ul class="dropdown-menu">
					      <li>
					      	<a href="@de.htwg.seapal.web.controllers.routes.Application.boat_info()">Logbook</a>
					      	<a href="@de.htwg.seapal.web.controllers.routes.Application.seamap()">Seamap</a>
					      	<a href="@de.htwg.seapal.web.controllers.routes.Application.race_list()">Regatta</a>
					      </li>
					    </ul>
					  </li>
					</ul>
				</div>
				<!--/.nav-collapse -->
			</div>
		</div>
	</div>
	@*@if(Menus.hasSubNavigation()) {
		<div id="webapp-menu-pill">
			<div class="container">
				<ul class="nav nav-pills">
					@for(menuItem <- Menus.subNavigation()) {
				    	@display(menuItem)
				    }
				</ul>
			</div>
		</div>
	}*@
</div>
